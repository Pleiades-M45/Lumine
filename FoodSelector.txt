strings.xml
<resources>
    <string name="app_name">FoodSelector</string>

    <string-array name="Category">
        <item>Fruits</item>
        <item>Vegetables</item>
    </string-array>

    <string-array name="Fruits">
        <item>Apple</item>
        <item>Banana</item>
        <item>Orange</item>
        <item>Mango</item>
        <item>Grapes</item>
    </string-array>

    <string-array name="Vegetables">
        <item>Carrot</item>
        <item>Tomato</item>
        <item>Potato</item>
        <item>Cabbage</item>
        <item>Spinach</item>
    </string-array>
</resources>



activity_main.xml
<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="16dp"
        android:gravity="center">

        <Spinner
            android:id="@+id/categorySpinner"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" />

        <LinearLayout
            android:id="@+id/itemContainer"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:layout_marginTop="20dp" />

        <ImageView
            android:id="@+id/imageView"
            android:layout_width="200dp"
            android:layout_height="200dp"
            android:layout_marginTop="20dp"
            android:scaleType="centerInside" />
    </LinearLayout>
</ScrollView>

MainActivity.java
package com.example.fruits;

import android.os.Bundle;
import android.view.View;
import android.widget.AdapterView;
import android.widget.ArrayAdapter;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.Spinner;
import android.widget.TextView;
import androidx.appcompat.app.AppCompatActivity;

public class MainActivity extends AppCompatActivity {

    Spinner categorySpinner;
    LinearLayout itemContainer;
    ImageView imageView;

    String[] fruits, vegetables;
    int[] fruitImages = {
            R.drawable.apple, R.drawable.banana, R.drawable.orange,
            R.drawable.mango, R.drawable.grapes
    };
    int[] vegetableImages = {
            R.drawable.carrot, R.drawable.tomato, R.drawable.potato,
            R.drawable.cabbage, R.drawable.spinach
    };

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        categorySpinner = findViewById(R.id.categorySpinner);
        itemContainer = findViewById(R.id.itemContainer);
        imageView = findViewById(R.id.imageView);

        imageView.setImageDrawable(null); // Start with blank image

        fruits = getResources().getStringArray(R.array.Fruits);
        vegetables = getResources().getStringArray(R.array.Vegetables);

        ArrayAdapter<String> categoryAdapter = new ArrayAdapter<>(this,
                android.R.layout.simple_spinner_item,
                getResources().getStringArray(R.array.Category));
        categoryAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
        categorySpinner.setAdapter(categoryAdapter);

        categorySpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
            @Override
            public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {
                itemContainer.removeAllViews(); // Clear previous items
                imageView.setImageDrawable(null); // Clear image

                String[] items = position == 0 ? fruits : vegetables;
                int[] images = position == 0 ? fruitImages : vegetableImages;

                for (int i = 0; i < items.length; i++) {
                    final int index = i;
                    TextView itemView = new TextView(MainActivity.this);
                    itemView.setText(items[i]);
                    itemView.setTextSize(18);
                    itemView.setPadding(20, 20, 20, 20);
                    itemView.setClickable(true);
                    itemView.setBackgroundResource(android.R.drawable.list_selector_background);

                    itemView.setOnClickListener(v -> {
                        imageView.setImageResource(images[index]);
                    });

                    itemContainer.addView(itemView);
                }
            }

            @Override
            public void onNothingSelected(AdapterView<?> parent) {}
        });
    }
}

